# Use an official lightweight Python image
FROM python:3.9-slim

# Set the working directory inside the container
WORKDIR /app

# Copy the Python script into the container
COPY app.py .

# Install the necessary Python packages: Flask for the web framework,
# Flask-CORS to allow cross-origin requests, and Gunicorn as a robust
# production-grade WSGI server to run the app.
RUN pip install Flask Flask-CORS gunicorn

# Expose port 80 to the outside world. This is the port Gunicorn will run on.
EXPOSE 80

# The command to run when the container starts.
# This starts the Gunicorn server, binding it to all network interfaces
# on port 80, with 2 worker processes, and points it to the 'app'
# instance inside the 'app.py' file.
CMD ["gunicorn", "--bind", "0.0.0.0:80", "--workers", "2", "app:app"]
